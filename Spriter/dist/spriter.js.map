{"version":3,"file":"spriter.js","mappings":"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","sources":["webpack://Spriter/webpack/universalModuleDefinition","webpack://Spriter/./src/Spriter/IdNameMap.ts","webpack://Spriter/./src/Spriter/LineStepper.ts","webpack://Spriter/./src/Spriter/Loader/Loader.ts","webpack://Spriter/./src/Spriter/Loader/NodeListJSON.ts","webpack://Spriter/./src/Spriter/Loader/NodeListXml.ts","webpack://Spriter/./src/Spriter/Loader/SpriterFile.ts","webpack://Spriter/./src/Spriter/Loader/SpriterJSON.ts","webpack://Spriter/./src/Spriter/Loader/SpriterXml.ts","webpack://Spriter/./src/Spriter/Math.ts","webpack://Spriter/./src/Spriter/Spriter.ts","webpack://Spriter/./src/Spriter/SpriterBone.ts","webpack://Spriter/./src/Spriter/SpriterGroup.ts","webpack://Spriter/./src/Spriter/SpriterObject.ts","webpack://Spriter/./src/Spriter/Structure/Animation.ts","webpack://Spriter/./src/Spriter/Structure/Baseline.ts","webpack://Spriter/./src/Spriter/Structure/CharMap.ts","webpack://Spriter/./src/Spriter/Structure/CharMapStack.ts","webpack://Spriter/./src/Spriter/Structure/Entity.ts","webpack://Spriter/./src/Spriter/Structure/File.ts","webpack://Spriter/./src/Spriter/Structure/Folder.ts","webpack://Spriter/./src/Spriter/Structure/Item.ts","webpack://Spriter/./src/Spriter/Structure/Key.ts","webpack://Spriter/./src/Spriter/Structure/KeyBone.ts","webpack://Spriter/./src/Spriter/Structure/KeyMainline.ts","webpack://Spriter/./src/Spriter/Structure/KeyObject.ts","webpack://Spriter/./src/Spriter/Structure/KeyTag.ts","webpack://Spriter/./src/Spriter/Structure/KeyTimeline.ts","webpack://Spriter/./src/Spriter/Structure/KeyVariable.ts","webpack://Spriter/./src/Spriter/Structure/ObjectInfo.ts","webpack://Spriter/./src/Spriter/Structure/Ref.ts","webpack://Spriter/./src/Spriter/Structure/SpatialInfo.ts","webpack://Spriter/./src/Spriter/Structure/Timeline.ts","webpack://Spriter/./src/Spriter/Structure/Types.ts","webpack://Spriter/./src/Spriter/Structure/Variable.ts","webpack://Spriter/./src/Spriter/Structure/Varline.ts","webpack://Spriter/webpack/bootstrap","webpack://Spriter/webpack/runtime/define property getters","webpack://Spriter/webpack/runtime/hasOwnProperty shorthand","webpack://Spriter/webpack/runtime/make namespace object","webpack://Spriter/./src/Spriter/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Spriter\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Spriter\"] = factory();\n\telse\n\t\troot[\"Spriter\"] = factory();\n})(self, () => {\nreturn ","export class IdNameMap<T> {\n\n    private _items: T[] = [];\n    private _itemNames: number[] = [];  // keys are names and returned value is index into _tems array\n\n    // -------------------------------------------------------------------------\n    public add(item: T, id?: number, name?: string) {\n        if (id === undefined) {\n            id = this._items.length;\n        }\n\n        if (name === undefined || name === null) {\n            name = \"item_\" + id;\n        }\n\n        this._items[id] = item;\n        this._itemNames[name] = id;\n    }\n\n    // -------------------------------------------------------------------------\n    public getById(id: number): T {\n        return this._items[id];\n    }\n\n    // -------------------------------------------------------------------------\n    public getByName(name: string) {\n        var id = this._itemNames[name];\n\n        // TODO remove\n        if (typeof id !== \"number\") {\n            console.warn(\"item \" + name + \"  not found!\");\n        }\n\n        return (typeof id === \"number\") ? this._items[id] : null;\n    }\n\n    // -------------------------------------------------------------------------\n    public get length(): number {\n        return this._items.length;\n    }\n}\n","import { Baseline } from \"./Structure/Baseline\";\nimport { Key }      from \"./Structure/Key\";\n\nexport class LineStepper {\n\n    private _line: Baseline;\n\n    private _currentIndex: number;\n    private _nextIndex: number;\n    private _lastTime: number;\n\n    // -------------------------------------------------------------------------\n    public constructor() {\n        this.reset();\n    }\n\n    // -------------------------------------------------------------------------\n    public get current(): Key {\n        return this._line.at(this._currentIndex);\n    }\n\n    // -------------------------------------------------------------------------\n    public get currentIndex(): number {\n        return this._currentIndex;\n    }\n\n    // -------------------------------------------------------------------------\n    public get next(): Key {\n        return this._line.at(this._nextIndex);\n    }\n\n    // -------------------------------------------------------------------------\n    public get nextIndex(): number {\n        return this._nextIndex;\n    }\n\n    // -------------------------------------------------------------------------\n    public set lastTime(time: number) {\n        this._lastTime = time;\n    }\n\n    // -------------------------------------------------------------------------\n    public set line(line: Baseline) {\n        this._line = line;\n    }\n\n    // -------------------------------------------------------------------------\n    public get line(): Baseline {\n        return this._line;\n    }\n\n    // -------------------------------------------------------------------------\n    public reset(): void {\n        this._lastTime = -1;\n        this._currentIndex = -1;\n        this._nextIndex = 0;\n    }\n\n    // -------------------------------------------------------------------------\n    public step(time: number): Key {\n        var index = this._nextIndex;\n\n        // get key at current position\n        var key = this._line.keys[index];\n        var keyTime = key.time;\n        // if current key time is bigger than time for stepTo, then we must first go till end of timeline and then continue from beginning\n        var loop = time < this._lastTime;\n\n        if ((!loop && (keyTime > this._lastTime && keyTime <= time)) ||\n            (loop && (keyTime > this._lastTime || keyTime <= time))) {\n\n            this._lastTime = keyTime;\n            this._currentIndex = index;\n\n            if ((++index) >= this._line.keys.length) {\n                index = 0;\n            }\n            this._nextIndex = index;\n\n            return key;\n        } else if (loop) {\n            this._lastTime = -1;\n        }\n\n        return null;\n    }\n}\n","import { Spriter } from \"../Spriter\";\nimport { eFileType, SpriterFile } from \"./SpriterFile\";\nimport { ISpriterNodeList } from \"./ISpriterNodeList\";\nimport { Folder } from \"../Structure/Folder\";\nimport { Entity } from \"../Structure/Entity\";\nimport { CharMap } from \"../Structure/CharMap\";\nimport { Animation } from \"../Structure/Animation\";\nimport { eTimelineType, Baseline } from \"../Structure/Baseline\";\nimport { Timeline } from \"../Structure/Timeline\";\nimport { Varline } from \"../Structure/Varline\";\nimport { eVariableType } from \"../Structure/Types\";\n\nexport class Loader {\n\n    private _spriter: Spriter;\n    private _fileType: eFileType;\n\n    // -------------------------------------------------------------------------\n    public load(file: SpriterFile): Spriter {\n\n        this._spriter = new Spriter();\n        this._fileType = file.getType();\n\n        // folders and files\n        var folders = file.getNodes(\"folder\");\n        this.loadFolders(this._spriter, folders);\n        folders.processed();\n\n        // tags\n        var tags = file.getNodes(\"tag_list\");\n        this.loadTags(this._spriter, tags);\n        tags.processed();\n\n        // entity\n        var entities = file.getNodes(\"entity\");\n        this.loadEntities(this._spriter, entities);\n        entities.processed();\n\n        return this._spriter;\n    }\n\n    // -------------------------------------------------------------------------\n    private loadFolders(spriter: Spriter, folders: ISpriterNodeList): void {\n        // through all folders\n        for (var i = 0; i < folders.length(); i++) {\n            var folder = folders.getFolder(i);\n\n            // images in folder - ignore sounds\n            var files = folders.getChildNodes(i, \"file\");\n            this.loadFiles(folder, files);\n            files.processed();\n\n            // add folder to spriter object\n            spriter.addFolder(folder);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadFiles(folder: Folder, files: ISpriterNodeList): void {\n        for (var f = 0; f < files.length(); f++) {\n            var file = files.getFile(f);\n\n            // null is returned if file is not image but sound\n            if (file !== null) {\n                folder.addFile(file);\n            }\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadTags(spriter: Spriter, tags: ISpriterNodeList): void {\n        // no tags\n        if (tags.length() === 0) {\n            return;\n        }\n\n        // different structure for json than for xml\n        var tagDefs: ISpriterNodeList;\n        if (this._fileType !== eFileType.JSON) {\n            tagDefs = tags.getChildNodes(0, \"i\");\n        } else {\n            tagDefs = tags;\n        }\n\n        for (var i = 0; i < tagDefs.length(); i++) {\n            var tag = tagDefs.getTag(i);\n            spriter.addTag(tag);\n        }\n\n        // different structure for json than for xml\n        if (this._fileType !== eFileType.JSON) {\n            tagDefs.processed();\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadEntities(spriter: Spriter, entities: ISpriterNodeList): void {\n        for (var i = 0; i < entities.length(); i++) {\n            var entity = entities.getEntity(i);\n\n            // bones, boxes, ...\n            var objInfos = entities.getChildNodes(i, \"obj_info\");\n            this.loadObjInfo(entity, objInfos);\n            objInfos.processed();\n\n            // character maps\n            var charMaps = entities.getChildNodes(i, \"character_map\");\n            this.loadCharMaps(entity, charMaps);\n            charMaps.processed();\n\n            // variable definitions\n            var variables = entities.getChildNodes(i, \"var_defs\");\n            this.loadVariables(entity, variables);\n            variables.processed();\n\n            // animations\n            var animations = entities.getChildNodes(i, \"animation\");\n            this.loadAnimations(entity, animations);\n            animations.processed();\n\n            spriter.addEntity(entity);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadObjInfo(entity: Entity, objInfos: ISpriterNodeList): void {\n        for (var i = 0; i < objInfos.length(); i++) {\n            var objInfo = objInfos.getObjectInfo(i);\n            entity.addObjectInfo(objInfo);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadCharMaps(entity: Entity, charMaps: ISpriterNodeList): void {\n        for (var i = 0; i < charMaps.length(); i++) {\n            var charMap = charMaps.getCharMap(i);\n\n            var charMapEntries = charMaps.getChildNodes(i, \"map\");\n            this.loadCharMapEntries(charMap, charMapEntries);\n            charMapEntries.processed();\n\n            entity.addCharMap(charMap);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadCharMapEntries(charMap: CharMap, charMapEntries: ISpriterNodeList): void {\n        for (var i = 0; i < charMapEntries.length(); i++) {\n            charMapEntries.getCharMapEntry(i, charMap, this._spriter);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadVariables(entity: Entity, variables: ISpriterNodeList): void {\n        // no variables\n        if (variables.length() === 0) {\n            return;\n        }\n\n        // different structure for json than for xml\n        var varDefs: ISpriterNodeList;\n        if (this._fileType !== eFileType.JSON) {\n            varDefs = variables.getChildNodes(0, \"i\");\n        } else {\n            varDefs = variables;\n        }\n\n        for (var i = 0; i < varDefs.length(); i++) {\n            var varDef = varDefs.getVariable(i);\n            entity.addVariable(varDef);\n        }\n\n        // different structure for json than for xml\n        if (this._fileType !== eFileType.JSON) {\n            varDefs.processed();\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadAnimations(entity: Entity, animations: ISpriterNodeList): void {\n        for (var i = 0; i < animations.length(); i++) {\n            var animation = animations.getAnimation(i);\n\n            // main line keys\n            var mainlines = animations.getChildNodes(i, \"mainline\");\n            this.loadMainline(animation, mainlines);\n            mainlines.processed();\n\n            // timelines\n            var timelines = animations.getChildNodes(i, \"timeline\");\n            this.loadTimelines(animation, timelines);\n            timelines.processed();\n\n            // sound lines\n            var soundlines = animations.getChildNodes(i, \"soundline\");\n            this.loadSoundlines(animation, soundlines);\n            soundlines.processed();\n\n            // event lines\n            var eventlines = animations.getChildNodes(i, \"eventline\");\n            this.loadEventlines(animation, eventlines);\n            eventlines.processed();\n\n            // get meta tag\n            var meta = animations.getChildNodes(i, \"meta\");\n            if (meta.length() > 0) {\n                // var lines\n                // OMG - typo in attribute name in JSOUN export... what the hell! TODO - remove when corrected\n                var varlines = meta.getChildNodes(0, (this._fileType !== eFileType.JSON) ? \"varline\" : \"valline\");\n                this.loadVarlines(entity, animation, varlines);\n                varlines.processed();\n\n                // tag lines\n                var taglines = meta.getChildNodes(0, \"tagline\");\n                this.loadTaglines(animation, taglines);\n                taglines.processed();\n            }\n            meta.processed();\n\n            // add completely built animation to entity\n            entity.addAnimation(animation);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadMainline(animation: Animation, mainlines: ISpriterNodeList): void {\n        var mainline = mainlines.getMainline(0);\n        mainline.type = eTimelineType.MAIN_LINE;\n\n        var mainlineKeys = mainlines.getChildNodes(0, \"key\");\n        this.loadMainlineKeys(mainline, mainlineKeys);\n        mainlineKeys.processed();\n\n        animation.mainline = mainline;\n    }\n\n    // -------------------------------------------------------------------------\n    private loadMainlineKeys(mainline: Baseline, mainlineKeys: ISpriterNodeList): void {\n        for (var i = 0; i < mainlineKeys.length(); i++) {\n            var mainLineKey = mainlineKeys.getMainlineKey(i);\n\n            // load bone refs\n            var boneRefs = mainlineKeys.getChildNodes(i, \"bone_ref\");\n            for (var b = 0; b < boneRefs.length(); b++) {\n                mainLineKey.addBoneRef(boneRefs.getRef(b));\n            }\n            boneRefs.processed();\n\n            // load sprite refs (object refs)\n            var spriteRefs = mainlineKeys.getChildNodes(i, \"object_ref\");\n            for (var s = 0; s < spriteRefs.length(); s++) {\n                mainLineKey.addObjectRef(spriteRefs.getRef(s));\n            }\n            spriteRefs.processed();\n\n            mainline.add(mainLineKey);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadTimelines(animation: Animation, aTimelines: ISpriterNodeList): void {\n        for (var i = 0; i < aTimelines.length(); i++) {\n            var timeline = aTimelines.getTimeline(i);\n\n            var keys = aTimelines.getChildNodes(i, \"key\");\n            this.loadTimelineKeys(timeline, keys);\n            keys.processed();\n\n            animation.addTimeline(timeline);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadTimelineKeys(aTimeline: Timeline, aKeys: ISpriterNodeList): void {\n        for (var i = 0; i < aKeys.length(); i++) {\n            var key = aKeys.getTimelineKey(i, this._spriter);\n            aTimeline.add(key);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadSoundlines(animation: Animation, soundlines: ISpriterNodeList): void {\n        for (var i = 0; i < soundlines.length(); i++) {\n            var soundline = soundlines.getSoundline(i);\n            soundline.type = eTimelineType.SOUND_LINE;\n\n            var keys = soundlines.getChildNodes(i, \"key\");\n            this.loadKeys(soundline, keys);\n            keys.processed();\n\n            animation.addLine(soundline);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadKeys(timeline: Baseline, keys: ISpriterNodeList): void {\n        for (var i = 0; i < keys.length(); i++) {\n            var key = keys.getKey(i);\n            timeline.add(key);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadEventlines(animation: Animation, eventlines: ISpriterNodeList): void {\n        for (var i = 0; i < eventlines.length(); i++) {\n            var eventline = eventlines.getEventline(i);\n            eventline.type = eTimelineType.EVENT_LINE;\n\n            var keys = eventlines.getChildNodes(i, \"key\");\n            this.loadKeys(eventline, keys);\n            keys.processed();\n\n            animation.addLine(eventline);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadTaglines(animation: Animation, taglines: ISpriterNodeList): void {\n        for (var i = 0; i < taglines.length(); i++) {\n            var tagline = taglines.getTagline(i);\n            tagline.type = eTimelineType.TAG_LINE;\n\n            var keys = taglines.getChildNodes(i, \"key\");\n            this.loadTagKeys(tagline, keys);\n            keys.processed();\n\n            animation.addLine(tagline);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadTagKeys(tagline: Baseline, keys: ISpriterNodeList): void {\n        for (var i = 0; i < keys.length(); i++) {\n            var key = keys.getTagKey(i);\n\n            var tagChangeElements = keys.getChildNodes(i, \"tag\");\n            var tagChanges = tagChangeElements.getTagChanges(this._spriter);\n            tagChangeElements.processed();\n\n            key.tagsOn = tagChanges;\n\n            tagline.add(key);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadVarlines(entity: Entity, animation: Animation, varlines: ISpriterNodeList): void {\n        for (var i = 0; i < varlines.length(); i++) {\n            var varline = varlines.getVarline(i);\n\n            var type = entity.getVariableById(varline.varDefId).type;\n\n            var keys = varlines.getChildNodes(i, \"key\");\n            this.loadVariableKeys(varline, keys, type);\n            keys.processed();\n\n            animation.addLine(varline);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadVariableKeys(varline: Varline, keys: ISpriterNodeList, type: eVariableType): void {\n        for (var i = 0; i < keys.length(); i++) {\n            var key = keys.getVariableKey(i, type);\n            varline.add(key);\n        }\n    }\n}\n","import { Spriter }          from \"../Spriter\";\nimport { Animation }        from \"../Structure/Animation\";\nimport { Baseline }         from \"../Structure/Baseline\";\nimport { CharMap }          from \"../Structure/CharMap\";\nimport { Entity }           from \"../Structure/Entity\";\nimport { File }             from \"../Structure/File\";\nimport { Folder }           from \"../Structure/Folder\";\nimport { Item }             from \"../Structure/Item\";\nimport { Key }              from \"../Structure/Key\";\nimport { KeyMainline }      from \"../Structure/KeyMainline\";\nimport { KeyTag }           from \"../Structure/KeyTag\";\nimport { KeyTimeline }      from \"../Structure/KeyTimeline\";\nimport { KeyVariable }      from \"../Structure/KeyVariable\";\nimport { ObjectInfo }       from \"../Structure/ObjectInfo\";\nimport { Ref }              from \"../Structure/Ref\";\nimport { Timeline }         from \"../Structure/Timeline\";\nimport { eVariableType }    from \"../Structure/Types\";\nimport { Variable }         from \"../Structure/Variable\";\nimport { Varline }          from \"../Structure/Varline\";\nimport { ISpriterNodeList } from \"./ISpriterNodeList\";\nimport { SpriterJSON }      from \"./SpriterJSON\";\n\nexport class NodeListJSON implements ISpriterNodeList {\n\n    private _file: SpriterJSON;\n    private _nodeList: any;\n\n    // -------------------------------------------------------------------------\n    constructor(spriterJSONFile: SpriterJSON, nodeList: any) {\n        this._file = spriterJSONFile;\n        this._nodeList = nodeList;\n\n        if (!Array.isArray(nodeList)) {\n            nodeList.length = 1;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public length(): number {\n        return this._nodeList.length;\n    }\n\n    // -------------------------------------------------------------------------\n    public processed(): void {\n        this._file.processed();\n    }\n\n    // -------------------------------------------------------------------------\n    private getNode(index): any {\n        if (Array.isArray(this._nodeList)) {\n            return this._nodeList[index];\n        } else {\n            return this._nodeList;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public getChildNodes(index: number, elementName: string): ISpriterNodeList {\n        return this._file.getNodesForElement(this.getNode(index), elementName);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolder(index: number): Folder {\n        return this._file.getFolder(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getFile(index: number): File {\n        return this._file.getFile(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTag(index: number): Item {\n        return this._file.getTag(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntity(index: number): Entity {\n        return this._file.getEntity(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfo(index: number): ObjectInfo {\n        return this._file.getObjectInfo(this.getNode(index), index);\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMap(index: number): CharMap {\n        return this._file.getCharMap(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapEntry(index: number, charMap: CharMap, spriter: Spriter): void {\n        this._file.getCharMapEntry(this.getNode(index), charMap, spriter);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariable(index: number): Variable {\n        return this._file.getVariable(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimation(index: number): Animation {\n        return this._file.getAnimation(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainline(index: number): Baseline {\n        return this._file.getBaseline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainlineKey(index: number): KeyMainline {\n        return this._file.getMainlineKey(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getRef(index: number): Ref {\n        return this._file.getRef(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimeline(index: number): Timeline {\n        return this._file.getTimeline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getSoundline(index: number): Baseline {\n        return this._file.getBaseline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEventline(index: number): Baseline {\n        return this._file.getBaseline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagline(index: number): Baseline {\n        return this._file.getBaseline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVarline(index: number): Varline {\n        return this._file.getVarline(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getKey(index: number): Key {\n        return this._file.getKey(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagKey(index: number): KeyTag {\n        return this._file.getTagKey(this.getNode(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableKey(index: number, type: eVariableType): KeyVariable {\n        return this._file.getVariableKey(this.getNode(index), type);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineKey(index: number, spriter: Spriter): KeyTimeline {\n        return this._file.getTimelineKey(this.getNode(index), index, spriter);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagChanges(spriter: Spriter): number {\n        var tags = 0;\n\n        for (var i = 0; i < this.length(); i++) {\n            var tagIndex = this._file.getTagChange(this.getNode(i));\n            tags |= (1 << tagIndex);\n        }\n\n        return tags;\n    }\n}\n","import { Spriter }          from \"../Spriter\";\nimport { Animation }        from \"../Structure/Animation\";\nimport { Baseline }         from \"../Structure/Baseline\";\nimport { CharMap }          from \"../Structure/CharMap\";\nimport { Entity }           from \"../Structure/Entity\";\nimport { File }             from \"../Structure/File\";\nimport { Folder }           from \"../Structure/Folder\";\nimport { Item }             from \"../Structure/Item\";\nimport { Key }              from \"../Structure/Key\";\nimport { KeyMainline }      from \"../Structure/KeyMainline\";\nimport { KeyTag }           from \"../Structure/KeyTag\";\nimport { KeyTimeline }      from \"../Structure/KeyTimeline\";\nimport { KeyVariable }      from \"../Structure/KeyVariable\";\nimport { ObjectInfo }       from \"../Structure/ObjectInfo\";\nimport { Ref }              from \"../Structure/Ref\";\nimport { Timeline }         from \"../Structure/Timeline\";\nimport { eVariableType }    from \"../Structure/Types\";\nimport { Variable }         from \"../Structure/Variable\";\nimport { Varline }          from \"../Structure/Varline\";\nimport { ISpriterNodeList } from \"./ISpriterNodeList\";\nimport { SpriterXml }       from \"./SpriterXml\";\n\nexport class NodeListXml implements ISpriterNodeList {\n\n    private _file: SpriterXml;\n    private _nodeList: HTMLCollectionOf<Element>; //NodeList;\n\n    // -------------------------------------------------------------------------\n    constructor(spriterXmlFile: SpriterXml, nodeList: HTMLCollectionOf<Element> /*NodeList*/) {\n        this._file = spriterXmlFile;\n        this._nodeList = nodeList;\n    }\n\n    // -------------------------------------------------------------------------\n    public length(): number {\n        return this._nodeList.length;\n    }\n\n    // -------------------------------------------------------------------------\n    public processed(): void {\n        this._file.processed();\n    }\n\n    // -------------------------------------------------------------------------\n    public getChildNodes(index: number, elementName: string): ISpriterNodeList {\n        return this._file.getNodesForElement(<Element>this._nodeList.item(index), elementName);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolder(index: number): Folder {\n        return this._file.getFolder(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getFile(index: number): File {\n        return this._file.getFile(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTag(index: number): Item {\n        return this._file.getTag(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntity(index: number): Entity {\n        return this._file.getEntity(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfo(index: number): ObjectInfo {\n        return this._file.getObjectInfo(<Element>this._nodeList.item(index), index);\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMap(index: number): CharMap {\n        return this._file.getCharMap(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapEntry(index: number, charMap: CharMap, spriter: Spriter): void {\n        this._file.getCharMapEntry(<Element>this._nodeList.item(index), charMap, spriter);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariable(index: number): Variable {\n        return this._file.getVariable(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimation(index: number): Animation {\n        return this._file.getAnimation(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainline(index: number): Baseline {\n        return this._file.getBaseline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainlineKey(index: number): KeyMainline {\n        return this._file.getMainlineKey(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getRef(index: number): Ref {\n        return this._file.getRef(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimeline(index: number): Timeline {\n        return this._file.getTimeline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getSoundline(index: number): Baseline {\n        return this._file.getBaseline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEventline(index: number): Baseline {\n        return this._file.getBaseline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagline(index: number): Baseline {\n        return this._file.getBaseline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVarline(index: number): Varline {\n        return this._file.getVarline(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getKey(index: number): Key {\n        return this._file.getKey(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagKey(index: number): KeyTag {\n        return this._file.getTagKey(<Element>this._nodeList.item(index));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableKey(index: number, type: eVariableType): KeyVariable {\n        return this._file.getVariableKey(<Element>this._nodeList.item(index), type);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineKey(index: number, spriter: Spriter): KeyTimeline {\n        return this._file.getTimelineKey(<Element>this._nodeList.item(index), index, spriter);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagChanges(spriter: Spriter): number {\n        var tags = 0;\n\n        for (var i = 0; i < this.length(); i++) {\n            var tagIndex = this._file.getTagChange(<Element>this._nodeList.item(i));\n            tags |= (1 << tagIndex);\n        }\n\n        return tags;\n    }\n}\n","import { ISpriterNodeList } from \"./ISpriterNodeList\";\n\nexport enum eFileType { XML, JSON, BIN }\n\nexport enum eImageNameType { ORIGINAL, NAME_ONLY, NAME_AND_EXTENSION, FULL_PATH_NO_EXTENSION }\n\nexport interface IFileOptions {\n    imageNameType?: eImageNameType;\n    minDefs?: any;\n}\n\nexport abstract class SpriterFile {\n\n    protected _minimized: boolean;\n    private _minDefs: any;\n    private _minDefsStack: any[];\n\n    private _imageNameType: eImageNameType;\n\n    // -------------------------------------------------------------------------\n    public constructor(options: IFileOptions) {\n\n        let hasOptions = typeof options !== \"undefined\" && options !== null;\n\n        // type of image names (path / name / extension)\n        this._imageNameType = (hasOptions && typeof options.imageNameType !== \"undefined\") ? options.imageNameType : eImageNameType.NAME_ONLY;\n        // min defs are present?\n        this._minDefs = (hasOptions && typeof options.minDefs !== \"undefined\") ? options.minDefs : null;\n    }\n\n    // -------------------------------------------------------------------------\n    public abstract getNodes(nodeName: string): ISpriterNodeList;\n\n    // -------------------------------------------------------------------------\n    public abstract getType(): eFileType;\n\n    // -------------------------------------------------------------------------\n    public processed(): void {\n        this.popMinDefsStack();\n    }\n\n    // -------------------------------------------------------------------------\n    protected setMinimized(minimized: boolean) {\n        this._minimized = minimized;\n\n        if (minimized) {\n            this._minDefsStack = [];\n\n            if (this._minDefs === null) {\n                console.error(\"Spriter file is minimized - you must provide object with name definitions\");\n                return;\n            }\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    protected getFileName(path: string): string {\n\n        let name: string;\n\n        switch (this._imageNameType) {\n            case eImageNameType.NAME_ONLY:\n                name = (path.split('\\\\').pop().split('/').pop().split('.'))[0];\n                break;\n\n            case eImageNameType.NAME_AND_EXTENSION:\n                name = path.split('\\\\').pop().split('/').pop();\n                break;\n\n            case eImageNameType.FULL_PATH_NO_EXTENSION:\n                name = (path.split('.'))[0];\n                break;\n\n            case eImageNameType.ORIGINAL:\n                name = path;\n                break;\n        }\n\n        return name;\n    }\n\n    // -------------------------------------------------------------------------\n    protected translateElementName(elementName: string): string {\n        if (this._minimized) {\n            if (this._minDefs[\"name\"] !== elementName) {\n                console.warn(\"current definition is \" + this._minDefs[\"name\"]);\n                return elementName;\n            }\n\n            if (this._minDefs[\"minName\"] !== null) {\n                elementName = this._minDefs[\"minName\"];\n            }\n        }\n\n        return elementName;\n    }\n\n    // -------------------------------------------------------------------------\n    protected translateChildElementName(elementName: string): string {\n        if (this._minimized && this._minDefs !== null) {\n            var elements = this._minDefs[\"childElements\"];\n            if (elements !== null) {\n                elementName = elements[elementName] === null ? elementName : elements[elementName][\"minName\"];\n            }\n        }\n        return elementName;\n    }\n\n    // -------------------------------------------------------------------------\n    protected translateAttributeName(attributeName: string): string {\n        if (this._minimized && this._minDefs !== null) {\n            var attributes = this._minDefs[\"attributes\"];\n            if (attributes !== null) {\n                attributeName = attributes[attributeName] === null ? attributeName : attributes[attributeName];\n            }\n        }\n        return attributeName;\n    }\n\n    // -------------------------------------------------------------------------\n    protected setMinDefsToElementName(tagName: string): void {\n        if (this._minimized) {\n            // save current level of min defs\n            this._minDefsStack.push(this._minDefs);\n            // get child definition and set it as current\n            var minDef = this._minDefs[\"childElements\"][tagName];\n            this._minDefs = minDef;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    protected popMinDefsStack(): void {\n        if (this._minimized) {\n            this._minDefs = this._minDefsStack.pop();\n        }\n    }\n}\n","import { Spriter }                              from \"../Spriter\";\nimport { Animation, eAnimationLooping }         from \"../Structure/Animation\";\nimport { Baseline }                             from \"../Structure/Baseline\";\nimport { CharMap }                              from \"../Structure/CharMap\";\nimport { Entity }                               from \"../Structure/Entity\";\nimport { File }                                 from \"../Structure/File\";\nimport { Folder }                               from \"../Structure/Folder\";\nimport { Item }                                 from \"../Structure/Item\";\nimport { Key }                                  from \"../Structure/Key\";\nimport { KeyBone }                              from \"../Structure/KeyBone\";\nimport { KeyMainline }                          from \"../Structure/KeyMainline\";\nimport { KeyObject }                            from \"../Structure/KeyObject\";\nimport { KeyTag }                               from \"../Structure/KeyTag\";\nimport { KeyTimeline }                          from \"../Structure/KeyTimeline\";\nimport { KeyVariable }                          from \"../Structure/KeyVariable\";\nimport { ObjectInfo }                           from \"../Structure/ObjectInfo\";\nimport { Ref }                                  from \"../Structure/Ref\";\nimport { Timeline }                             from \"../Structure/Timeline\";\nimport { eVariableType, Types }                 from \"../Structure/Types\";\nimport { Variable }                             from \"../Structure/Variable\";\nimport { Varline }                              from \"../Structure/Varline\";\nimport { ISpriterNodeList }                     from \"./ISpriterNodeList\";\nimport { NodeListJSON }                         from \"./NodeListJSON\";\nimport { eFileType, IFileOptions, SpriterFile } from \"./SpriterFile\";\n\nexport class SpriterJSON extends SpriterFile {\n\n    private _json: any;\n\n    // -------------------------------------------------------------------------\n    constructor(JSONData: any, options?: IFileOptions) {\n        super(options);\n\n        this._json = JSONData;\n\n        var minimized = JSONData[\"min\"] !== undefined;\n        this.setMinimized(minimized);\n    }\n\n    // -------------------------------------------------------------------------\n    public getType(): eFileType {\n        return eFileType.JSON;\n    }\n\n    // -------------------------------------------------------------------------\n    private parseInt(element: any, attributeName: string, defaultValue: number = 0): number {\n        var value = element[this.translateAttributeName(attributeName)];\n        if (value === undefined) {\n            return defaultValue;\n        }\n\n        return typeof (value) === \"number\" ? value : parseInt(value);\n    }\n\n    // -------------------------------------------------------------------------\n    protected parseFloat(element: any, attributeName: string, defaultValue: number = 0): number {\n        var value = element[this.translateAttributeName(attributeName)];\n        if (value === undefined) {\n            return defaultValue;\n        }\n\n        return typeof (value) === \"number\" ? value : parseFloat(value);\n    }\n\n    // -------------------------------------------------------------------------\n    protected parseBoolean(element: any, attributeName: string, defaultValue: boolean = false): boolean {\n        var value = element[this.translateAttributeName(attributeName)];\n        if (value === undefined) {\n            return defaultValue;\n        }\n\n        return typeof (value) === \"boolean\" ? value : (value === \"true\");\n    }\n\n    // -------------------------------------------------------------------------\n    protected parseString(element: any, attributeName: string, defaultValue: string = \"\"): string {\n        var value = element[this.translateAttributeName(attributeName)];\n        return value === undefined ? defaultValue : value;\n    }\n\n    // -------------------------------------------------------------------------\n    public getNodes(nodeName: string): ISpriterNodeList {\n        this.setMinDefsToElementName(nodeName);\n        var translatedName = this.translateElementName(nodeName);\n\n        return new NodeListJSON(this, (this._json[translatedName] !== undefined) ? this._json[translatedName] : []);\n    }\n\n    // -------------------------------------------------------------------------\n    public getNodesForElement(element: any, nodeName: string): ISpriterNodeList {\n        this.setMinDefsToElementName(nodeName);\n        var translatedName = this.translateElementName(nodeName);\n\n        return new NodeListJSON(this, (element[translatedName] !== undefined) ? element[translatedName] : []);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolder(element: any): Folder {\n        return new Folder(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getFile(element: any): File {\n        if (element[\"type\"] !== undefined && element[\"type\"] === \"sound\") {\n            return null;\n        }\n\n        return new File(\n            this.parseInt(element, \"id\"),\n            this.getFileName(this.parseString(element, \"name\")),\n            this.parseFloat(element, \"pivot_x\"),\n            1 - this.parseFloat(element, \"pivot_y\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTag(element: number): Item {\n        return new Item(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntity(element: any): Entity {\n        return new Entity(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfo(element: any, index: number): ObjectInfo {\n        return new ObjectInfo(\n            index,\n            this.parseString(element, \"name\"),\n            Types.getObjectTypeForName(this.parseString(element, \"type\")),\n            this.parseFloat(element, \"w\"),\n            this.parseFloat(element, \"h\"),\n            this.parseFloat(element, \"pivot_x\"),\n            this.parseFloat(element, \"pivot_y\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMap(element: any): CharMap {\n        return new CharMap(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapEntry(element: any, charMap: CharMap, spriter: Spriter): void {\n        var sourceName = spriter.getFolderById(this.parseInt(element, \"folder\")).\n            getFileById(this.parseInt(element, \"file\")).name;\n\n        var target: File = null;\n        if (element[\"target_folder\"] !== undefined && element[\"target_file\"] !== undefined) {\n            target = spriter.getFolderById(this.parseInt(element, \"target_folder\")).\n                getFileById(this.parseInt(element, \"target_file\"));\n        }\n\n        charMap.put(sourceName, target);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariable(element: any): Variable {\n        var type = Types.getVariableTypeForName(this.parseString(element, \"type\"));\n        return new Variable(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            type,\n            (type === eVariableType.STRING) ? this.parseString(element, \"default\") : this.parseFloat(element, \"default\", 0)\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimation(element: any): Animation {\n        return new Animation(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            this.parseFloat(element, \"length\"),\n            this.parseBoolean(element, \"looping\", true) === true ? eAnimationLooping.LOOPING : eAnimationLooping.NO_LOOPING\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainlineKey(element: any): KeyMainline {\n        return new KeyMainline(\n            this.parseInt(element, \"id\"),\n            this.parseFloat(element, \"time\")\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getRef(element: any): Ref {\n        return new Ref(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"parent\", -1),\n            this.parseInt(element, \"timeline\"),\n            this.parseInt(element, \"key\"),\n            this.parseInt(element, \"z_index\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimeline(element: any): Timeline {\n        return new Timeline(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            Types.getObjectTypeForName(this.parseString(element, \"object_type\", \"sprite\")),\n            this.parseInt(element, \"obj\", -1));\n    }\n\n    // -------------------------------------------------------------------------\n    public getBaseline(element: any): Baseline {\n        return new Baseline(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\", null));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVarline(element: any): Varline {\n        return new Varline(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"def\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getKey(element: any): Key {\n        return new Key(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagKey(element: any): KeyTag {\n        return new KeyTag(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableKey(element: any, type: eVariableType): KeyVariable {\n        return new KeyVariable(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"),\n            (type === eVariableType.STRING) ? this.parseString(element, \"val\") : this.parseFloat(element, \"val\")\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineKey(element: any, index: number, spriter: Spriter): KeyTimeline {\n        var time = this.parseInt(element, \"time\");\n        var spin = this.parseInt(element, \"spin\", 1);\n\n        // curve and params\n        var curve = this.parseString(element, \"curve_type\", \"linear\");\n        var c1 = this.parseFloat(element, \"c1\", 0);\n        var c2 = this.parseFloat(element, \"c2\", 0);\n        var c3 = this.parseFloat(element, \"c3\", 0);\n        var c4 = this.parseFloat(element, \"c4\", 0);\n\n        // sprite or bone key?\n        var boneTag = this.translateChildElementName(\"bone\");\n        var objectTag = this.translateChildElementName(\"object\");\n\n        var key: KeyTimeline = null;\n        var keyDataElm = null;\n\n        var sprite: boolean = false;\n\n        if (element[boneTag] !== undefined) {\n            keyDataElm = element[boneTag];\n            key = new KeyBone(index, time, spin);\n            this.setMinDefsToElementName(\"bone\");\n        } else if (element[objectTag] !== undefined) {\n            keyDataElm = element[objectTag];\n            key = new KeyObject(index, time, spin);\n            this.setMinDefsToElementName(\"object\");\n            sprite = true;\n        }\n\n        // other curve than linear?\n        if (curve !== \"linear\") {\n            key.setCurve(Types.getCurveTypeForName(curve), c1, c2, c3, c4);\n        }\n\n        // spatial info\n        var info = key.info;\n\n        info.x = this.parseFloat(keyDataElm, \"x\");\n        info.y = -this.parseFloat(keyDataElm, \"y\");\n        info.scaleX = this.parseFloat(keyDataElm, \"scale_x\", 1);\n        info.scaleY = this.parseFloat(keyDataElm, \"scale_y\", 1);\n        info.angle = 360 - this.parseFloat(keyDataElm, \"angle\");\n        info.alpha = this.parseFloat(keyDataElm, \"a\", 1);\n\n        if (sprite) {\n            // sprite specific - set file and folder\n            var folderId = this.parseInt(keyDataElm, \"folder\");\n            var fileId = this.parseInt(keyDataElm, \"file\");\n            (<KeyObject>key).setFolderAndFile(folderId, fileId);\n            // set pivot in spatial info different from default (based on pivot in file)\n            var file = spriter.getFolderById(folderId).getFileById(fileId);\n            info.pivotX = this.parseFloat(keyDataElm, \"pivot_x\", file.pivotX);\n            // 1 - to flip Y, default anchor is already flipped, so it needs to be flipped back to avoid double flipping\n            info.pivotY = 1 - this.parseFloat(keyDataElm, \"pivot_y\", 1 - file.pivotY);\n        }\n\n        this.popMinDefsStack();\n\n        return key;\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagChange(element: any): number {\n        return this.parseInt(element, \"t\");\n    }\n}\n","import { Spriter }                              from \"../Spriter\";\nimport { Animation, eAnimationLooping }         from \"../Structure/Animation\";\nimport { Baseline }                             from \"../Structure/Baseline\";\nimport { CharMap }                              from \"../Structure/CharMap\";\nimport { Entity }                               from \"../Structure/Entity\";\nimport { File }                                 from \"../Structure/File\";\nimport { Folder }                               from \"../Structure/Folder\";\nimport { Item }                                 from \"../Structure/Item\";\nimport { Key }                                  from \"../Structure/Key\";\nimport { KeyBone }                              from \"../Structure/KeyBone\";\nimport { KeyMainline }                          from \"../Structure/KeyMainline\";\nimport { KeyObject }                            from \"../Structure/KeyObject\";\nimport { KeyTag }                               from \"../Structure/KeyTag\";\nimport { KeyTimeline }                          from \"../Structure/KeyTimeline\";\nimport { KeyVariable }                          from \"../Structure/KeyVariable\";\nimport { ObjectInfo }                           from \"../Structure/ObjectInfo\";\nimport { Ref }                                  from \"../Structure/Ref\";\nimport { Timeline }                             from \"../Structure/Timeline\";\nimport { eVariableType, Types }                 from \"../Structure/Types\";\nimport { Variable }                             from \"../Structure/Variable\";\nimport { Varline }                              from \"../Structure/Varline\";\nimport { ISpriterNodeList }                     from \"./ISpriterNodeList\";\nimport { NodeListXml }                          from \"./NodeListXml\";\nimport { eFileType, IFileOptions, SpriterFile } from \"./SpriterFile\";\n\nexport class SpriterXml extends SpriterFile {\n\n    private _xml: XMLDocument;\n\n    // -------------------------------------------------------------------------\n    constructor(xmlData: XMLDocument, options?: IFileOptions) {\n        super(options);\n\n        this._xml = xmlData;\n\n        var minimized = xmlData.documentElement.hasAttribute(\"min\");\n        this.setMinimized(minimized);\n    }\n\n    // -------------------------------------------------------------------------\n    public getType(): eFileType {\n        return eFileType.XML;\n    }\n\n    // -------------------------------------------------------------------------\n    private parseInt(element: Element, attributeName: string, defaultValue: number = 0): number {\n        var value = element.getAttribute(this.translateAttributeName(attributeName));\n        return value !== null ? parseInt(value) : defaultValue;\n    }\n\n    // -------------------------------------------------------------------------\n    protected parseFloat(element: Element, attributeName: string, defaultValue: number = 0): number {\n        var value = element.getAttribute(this.translateAttributeName(attributeName));\n        return value !== null ? parseFloat(value) : defaultValue;\n    }\n\n    // -------------------------------------------------------------------------\n    protected parseString(element: Element, attributeName: string, defaultValue: string = \"\"): string {\n        var value = element.getAttribute(this.translateAttributeName(attributeName));\n        return value !== null ? value : defaultValue;\n    }\n\n    // -------------------------------------------------------------------------\n    public getNodes(nodeName: string): ISpriterNodeList {\n        this.setMinDefsToElementName(nodeName);\n        var translatedName = this.translateElementName(nodeName);\n\n        return new NodeListXml(this, this._xml.documentElement.getElementsByTagName(translatedName));\n    }\n\n    // -------------------------------------------------------------------------\n    public getNodesForElement(element: Element, nodeName: string): ISpriterNodeList {\n        this.setMinDefsToElementName(nodeName);\n        var translatedName = this.translateElementName(nodeName);\n\n        return new NodeListXml(this, element.getElementsByTagName(translatedName));\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolder(element: Element): Folder {\n        return new Folder(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getFile(element: Element): File {\n        if (element.hasAttribute(\"type\") && element.getAttribute(\"type\") === \"sound\") {\n            return null;\n        }\n\n        return new File(\n            this.parseInt(element, \"id\"),\n            this.getFileName(this.parseString(element, \"name\")),\n            this.parseFloat(element, \"pivot_x\"),\n            1 - this.parseFloat(element, \"pivot_y\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTag(element: Element): Item {\n        return new Item(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntity(element: Element): Entity {\n        return new Entity(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfo(element: Element, index: number): ObjectInfo {\n        return new ObjectInfo(\n            index,\n            this.parseString(element, \"name\"),\n            Types.getObjectTypeForName(this.parseString(element, \"type\")),\n            this.parseFloat(element, \"w\"),\n            this.parseFloat(element, \"h\"),\n            this.parseFloat(element, \"pivot_x\"),\n            this.parseFloat(element, \"pivot_y\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMap(element: Element): CharMap {\n        return new CharMap(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapEntry(element: Element, charMap: CharMap, spriter: Spriter): void {\n        var sourceName = spriter.getFolderById(this.parseInt(element, \"folder\")).\n            getFileById(this.parseInt(element, \"file\")).name;\n\n        var target: File = null;\n        if (element.hasAttribute(\"target_folder\") && element.hasAttribute(\"target_file\")) {\n            target = spriter.getFolderById(this.parseInt(element, \"target_folder\")).\n                getFileById(this.parseInt(element, \"target_file\"));\n        }\n\n        charMap.put(sourceName, target);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariable(element: Element): Variable {\n        var type = Types.getVariableTypeForName(this.parseString(element, \"type\"));\n        return new Variable(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            type,\n            (type === eVariableType.STRING) ? this.parseString(element, \"default\") : this.parseFloat(element, \"default\", 0)\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimation(element: Element): Animation {\n        return new Animation(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            this.parseFloat(element, \"length\"),\n            this.parseString(element, \"looping\", \"true\") === \"true\" ? eAnimationLooping.LOOPING : eAnimationLooping.NO_LOOPING\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getMainlineKey(element: Element): KeyMainline {\n        return new KeyMainline(\n            this.parseInt(element, \"id\"),\n            this.parseFloat(element, \"time\")\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getRef(element: Element): Ref {\n        return new Ref(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"parent\", -1),\n            this.parseInt(element, \"timeline\"),\n            this.parseInt(element, \"key\"),\n            this.parseInt(element, \"z_index\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimeline(element: Element): Timeline {\n        return new Timeline(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\"),\n            Types.getObjectTypeForName(this.parseString(element, \"object_type\", \"sprite\")),\n            this.parseInt(element, \"obj\", -1));\n    }\n\n    // -------------------------------------------------------------------------\n    public getBaseline(element: Element): Baseline {\n        return new Baseline(\n            this.parseInt(element, \"id\"),\n            this.parseString(element, \"name\", null));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVarline(element: Element): Varline {\n        return new Varline(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"def\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getKey(element: Element): Key {\n        return new Key(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagKey(element: Element): KeyTag {\n        return new KeyTag(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"));\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableKey(element: Element, type: eVariableType): KeyVariable {\n        return new KeyVariable(\n            this.parseInt(element, \"id\"),\n            this.parseInt(element, \"time\"),\n            (type === eVariableType.STRING) ? this.parseString(element, \"val\") : this.parseFloat(element, \"val\")\n        );\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineKey(element: Element, index: number, spriter: Spriter): KeyTimeline {\n        var time = this.parseInt(element, \"time\");\n        var spin = this.parseInt(element, \"spin\", 1);\n\n        // curve and params\n        var curve = this.parseString(element, \"curve_type\", \"linear\");\n        var c1 = this.parseFloat(element, \"c1\", 0);\n        var c2 = this.parseFloat(element, \"c2\", 0);\n        var c3 = this.parseFloat(element, \"c3\", 0);\n        var c4 = this.parseFloat(element, \"c4\", 0);\n\n        // sprite or bone key?\n        var boneTag = this.translateChildElementName(\"bone\");\n        var objectTag = this.translateChildElementName(\"object\");\n\n        var key: KeyTimeline = null;\n        var keyDataElm = <Element>(element.firstElementChild);\n\n        var sprite: boolean = false;\n\n        if (keyDataElm.tagName === boneTag) {\n            key = new KeyBone(index, time, spin);\n            this.setMinDefsToElementName(\"bone\");\n        } else if (keyDataElm.tagName === objectTag) {\n            this.setMinDefsToElementName(\"object\");\n            key = new KeyObject(index, time, spin);\n            sprite = true;\n        }\n\n        // other curve than linear?\n        if (curve !== \"linear\") {\n            key.setCurve(Types.getCurveTypeForName(curve), c1, c2, c3, c4);\n        }\n\n        // spatial info\n        var info = key.info;\n\n        info.x = this.parseFloat(keyDataElm, \"x\");\n        info.y = -this.parseFloat(keyDataElm, \"y\");\n        info.scaleX = this.parseFloat(keyDataElm, \"scale_x\", 1);\n        info.scaleY = this.parseFloat(keyDataElm, \"scale_y\", 1);\n        info.angle = 360 - this.parseFloat(keyDataElm, \"angle\");\n        info.alpha = this.parseFloat(keyDataElm, \"a\", 1);\n\n        if (sprite) {\n            // sprite specific - set file and folder\n            var folderId = this.parseInt(keyDataElm, \"folder\");\n            var fileId = this.parseInt(keyDataElm, \"file\");\n            (<KeyObject>key).setFolderAndFile(folderId, fileId);\n            // set pivot in spatial info different from default (based on pivot in file)\n            var file = spriter.getFolderById(folderId).getFileById(fileId);\n            info.pivotX = this.parseFloat(keyDataElm, \"pivot_x\", file.pivotX);\n            // 1 - to flip Y, default anchor is already flipped, so it needs to be flipped back to avoid double flipping\n            info.pivotY = 1 - this.parseFloat(keyDataElm, \"pivot_y\", 1 - file.pivotY);\n        }\n\n        this.popMinDefsStack();\n\n        return key;\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagChange(element: Element): number {\n        return this.parseInt(element, \"t\");\n    }\n}\n","// -------------------------------------------------------------------------\nexport function linear(a: number, b: number, t: number): number {\n    return ((b - a) * t) + a;\n}\n\n// -------------------------------------------------------------------------\nexport function quadratic(a: number, b: number, c: number, t: number) {\n    return linear(linear(a, b, t), linear(b, c, t), t);\n}\n\n// -------------------------------------------------------------------------\nexport function cubic(a: number, b: number, c: number, d: number, t: number) {\n    return linear(quadratic(a, b, c, t), quadratic(b, c, d, t), t);\n}\n\n// -------------------------------------------------------------------------\nexport function quartic(a: number, b: number, c: number, d: number, e: number, t: number) {\n    return linear(cubic(a, b, c, d, t), cubic(b, c, d, e, t), t);\n}\n\n// -------------------------------------------------------------------------\nexport function quintic(a: number, b: number, c: number, d: number, e: number, f: number, t: number) {\n    return linear(quartic(a, b, c, d, e, t), quartic(b, c, d, e, f, t), t);\n}\n\n// -------------------------------------------------------------------------\n// B(t) = (1  t)^3 * P0 + 3(1  t)^2 * t * P1 + 3(1  t) *  t^2 * P2 + t^3 * P3  , 0  t  1.\nfunction bezierCoord(p1: number, p2: number, t: number): number {\n    // p0 = 0, p3 = 1\n    var p0 = 0;\n    var p3 = 1;\n\n    var u = 1 - t;\n    var t2 = t * t;\n    var u2 = u * u;\n    var u3 = u2 * u;\n    var t3 = t2 * t;\n\n    return /*u3 * p0*/ 0 + 3 * u2 * t * p1 + 3 * u * t2 * p2 + t3 * p3;\n}\n\n// -------------------------------------------------------------------------\nexport function bezier(p1x: number, p1y: number, p2x: number, p2y: number, t: number): number {\n    var epsilon = 0.001;\n    var maxIterations = 10;\n\n    // binary search\n\n    //establish bounds\n    var lower = 0;\n    var upper = 1;\n    var percent = (upper + lower) / 2;\n\n    //initial x\n    var x = bezierCoord(p1x, p2x, percent);\n\n    //loop until returned x - t is less than epsilon\n    var iterations = 0;\n    while (Math.abs(t - x) > epsilon && iterations < maxIterations) {\n        if (t > x) {\n            lower = percent;\n        } else {\n            upper = percent;\n        }\n\n        percent = (upper + lower) / 2;\n        x = bezierCoord(p1x, p2x, percent);\n\n        ++iterations;\n    }\n\n    //we're within tolerance of the desired x value. Return the y value.\n    return bezierCoord(p1y, p2y, percent);\n}\n\n// -------------------------------------------------------------------------\nexport function angleLinear(angleA: number, angleB: number, spin: number, t: number): number {\n    // no spin\n    if (spin === 0) {\n        return angleA;\n    }\n\n    // spin left\n    if (spin > 0) {\n        if (angleB > angleA) {\n            angleB -= 360;\n        }\n    } else {    // spin right\n        if (angleB < angleA) {\n            angleB += 360;\n        }\n    }\n\n    return linear(angleA, angleB, t);\n}\n","import { IdNameMap } from \"./IdNameMap\";\nimport { Folder }    from \"./Structure/Folder\";\nimport { Item }      from \"./Structure/Item\";\nimport { Entity }    from \"./Structure/Entity\";\n\nexport class Spriter {\n\n    private _folders: IdNameMap<Folder>;\n    private _tags: IdNameMap<Item>;\n    private _entities: IdNameMap<Entity>;\n\n    // -------------------------------------------------------------------------\n    constructor() {\n        this._folders = new IdNameMap<Folder>();\n        this._tags = new IdNameMap<Item>();\n        this._entities = new IdNameMap<Entity>();\n    }\n\n    // -------------------------------------------------------------------------\n    public addFolder(folder: Folder): void {\n        this._folders.add(folder, folder.id, folder.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolderById(id: number): Folder {\n        return this._folders.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFolderByName(name: string): Folder {\n        return this._folders.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public addEntity(entity: Entity): void {\n        this._entities.add(entity, entity.id, entity.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntityById(id: number): Entity {\n        return this._entities.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getEntityByName(name: string): Entity {\n        return this._entities.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public addTag(tag: Item): void {\n        this._tags.add(tag, tag.id, tag.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagById(id: number): Item {\n        return this._tags.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTagByName(name: string): Item {\n        return this._tags.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public get tagsLength(): number {\n        return this._tags.length;\n    }\n}\n","import { angleLinear, bezier, cubic, linear, quadratic, quartic, quintic } from \"./Math\";\nimport { Animation, eAnimationLooping } from \"./Structure/Animation\";\nimport { Entity }                       from \"./Structure/Entity\";\nimport { KeyTimeline }                  from \"./Structure/KeyTimeline\";\nimport { ObjectInfo }                   from \"./Structure/ObjectInfo\";\nimport { SpatialInfo }                  from \"./Structure/SpatialInfo\";\nimport { eCurveType, eObjectType }      from \"./Structure/Types\";\n\nexport class SpriterBone {\n\n    public static UPDATE_X = 1;\n    public static UPDATE_Y = 2;\n    public static UPDATE_SCALE_X = 4;\n    public static UPDATE_SCALE_Y = 8;\n    public static UPDATE_PIVOT_X = 16;\n    public static UPDATE_PIVOT_Y = 32;\n    public static UPDATE_ANGLE = 64;\n    public static UPDATE_ALPHA = 128;\n\n    private _on: boolean;\n\n    public name: string;\n    public objectInfo: ObjectInfo;\n\n    public parent: number;\n\n    public timeline: number = -1;\n    public timelineKey: number = -1;\n    public key: KeyTimeline;\n\n    public timeFrom: number;\n    public timeTo: number;\n    public from: SpatialInfo;\n    public to: SpatialInfo;\n\n    public transformed: SpatialInfo;\n\n    public updateMask: number;\n\n    public type: eObjectType;\n\n    // -------------------------------------------------------------------------\n    constructor() {\n        this.transformed = new SpatialInfo();\n    }\n\n    // -------------------------------------------------------------------------\n    public setOn(on: boolean): void {\n        this._on = on;\n    }\n\n    // -------------------------------------------------------------------------\n    public get on(): boolean {\n        return this._on;\n    }\n\n    // -------------------------------------------------------------------------\n    public setKey(entity: Entity, animation: Animation, timelineId: number, keyId: number): void {\n        this.timeline = timelineId;\n        this.timelineKey = keyId;\n\n        var timeline = animation.getTimelineById(timelineId);\n        this.name = timeline.name;\n        this.objectInfo = (timeline.objectRef === -1) ? null : entity.getObjectInfoById(timeline.objectRef);\n\n        var keyFrom = <KeyTimeline>timeline.at(keyId);\n        // in the end loop to first key. If animation is not looping, then repeat last key\n        var keyTo = <KeyTimeline>(timeline.at(keyId + 1, animation.loopType !== eAnimationLooping.NO_LOOPING));\n\n        this.key = keyFrom;\n        this.timeFrom = keyFrom.time;\n        this.timeTo = keyTo.time;\n\n        // if loop to key 0\n        if (this.timeTo < this.timeFrom) {\n            this.timeTo = animation.length;\n        }\n\n        this.from = keyFrom.info;\n        this.to = keyTo.info;\n\n        // create update mask\n        this.updateMask = 0;\n        if (Math.abs(this.from.x - this.to.x) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_X;\n        }\n        if (Math.abs(this.from.y - this.to.y) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_Y;\n        }\n        if (Math.abs(this.from.scaleX - this.to.scaleX) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_SCALE_X;\n        }\n        if (Math.abs(this.from.scaleY - this.to.scaleY) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_SCALE_Y;\n        }\n        if (Math.abs(this.from.pivotX - this.to.pivotX) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_PIVOT_X;\n        }\n        if (Math.abs(this.from.pivotY - this.to.pivotY) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_PIVOT_Y;\n        }\n        if (Math.abs(this.from.alpha - this.to.alpha) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_ALPHA;\n        }\n        if (Math.abs(this.from.angle - this.to.angle) > 0.001) {\n            this.updateMask += SpriterBone.UPDATE_ANGLE;\n        }\n\n        // init data\n        this.transformed.x = this.from.x;\n        this.transformed.y = this.from.y;\n        this.transformed.scaleX = this.from.scaleX;\n        this.transformed.scaleY = this.from.scaleY;\n        this.transformed.pivotX = this.from.pivotX;\n        this.transformed.pivotY = this.from.pivotY;\n        this.transformed.angle = this.from.angle;\n        this.transformed.alpha = this.from.alpha;\n    }\n\n    // -------------------------------------------------------------------------\n    public tween(time: number): void {\n        // calculate normalized time\n        //var t = Phaser.Math.clamp((time - this.timeFrom) / (this.timeTo - this.timeFrom), 0, 1);\n        var t = (this.updateMask > 0) ? this.getTweenTime(time) : 0;\n\n        this.transformed.x = (this.updateMask & SpriterBone.UPDATE_X) > 0 ?\n            linear(this.from.x, this.to.x, t) : this.from.x;\n        this.transformed.y = (this.updateMask & SpriterBone.UPDATE_Y) > 0 ?\n            linear(this.from.y, this.to.y, t) : this.from.y;\n\n        this.transformed.scaleX = (this.updateMask & SpriterBone.UPDATE_SCALE_X) > 0 ?\n            linear(this.from.scaleX, this.to.scaleX, t) : this.from.scaleX;\n        this.transformed.scaleY = (this.updateMask & SpriterBone.UPDATE_SCALE_Y) > 0 ?\n            linear(this.from.scaleY, this.to.scaleY, t) : this.from.scaleY;\n\n        this.transformed.pivotX = (this.updateMask & SpriterBone.UPDATE_PIVOT_X) > 0 ?\n            linear(this.from.pivotX, this.to.pivotX, t) : this.from.pivotX;\n        this.transformed.pivotY = (this.updateMask & SpriterBone.UPDATE_PIVOT_Y) > 0 ?\n            linear(this.from.pivotY, this.to.pivotY, t) : this.from.pivotY;\n\n        this.transformed.alpha = (this.updateMask & SpriterBone.UPDATE_ALPHA) > 0 ?\n            linear(this.from.alpha, this.to.alpha, t) : this.from.alpha;\n\n        this.transformed.angle = (this.updateMask & SpriterBone.UPDATE_ANGLE) > 0 ?\n            angleLinear(this.from.angle, this.to.angle, this.key.spin, t) : this.from.angle;\n    }\n\n    // -------------------------------------------------------------------------\n    public update(parent: SpatialInfo): void {\n        this.transformed.angle *= Phaser.Math.sign(parent.scaleX) * Phaser.Math.sign(parent.scaleY);\n        this.transformed.angle += parent.angle;\n\n        this.transformed.scaleX *= parent.scaleX;\n        this.transformed.scaleY *= parent.scaleY;\n\n        this.scalePosition(parent.scaleX, parent.scaleY);\n        this.rotatePosition(parent.angle);\n        this.translatePosition(parent.x, parent.y);\n\n        this.transformed.alpha *= parent.alpha;\n    }\n\n    // -------------------------------------------------------------------------\n    private scalePosition(parentScaleX: number, parentScaleY: number): void {\n        this.transformed.x *= parentScaleX;\n        this.transformed.y *= parentScaleY;\n    }\n\n    // -------------------------------------------------------------------------\n    private rotatePosition(parentAngle: number): void {\n        var x = this.transformed.x;\n        var y = this.transformed.y\n\n        if (x !== 0 || y !== 0) {\n            var rads = parentAngle * (Math.PI / 180);\n\n            var cos = Math.cos(rads);\n            var sin = Math.sin(rads);\n\n            this.transformed.x = x * cos - y * sin;\n            this.transformed.y = x * sin + y * cos;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private translatePosition(parentX: number, parentY: number): void {\n        this.transformed.x += parentX;\n        this.transformed.y += parentY;\n    }\n\n    // -------------------------------------------------------------------------\n    private getTweenTime(time: number): number {\n        if (this.key.curveType === eCurveType.INSTANT) {\n            return 0;\n        }\n\n        var t = Phaser.Math.clamp((time - this.timeFrom) / (this.timeTo - this.timeFrom), 0, 1);\n\n        switch (this.key.curveType) {\n            case eCurveType.LINEAR:\n                return t;\n\n            case eCurveType.QUADRATIC:\n                return quadratic(0, this.key.c1, 1, t);\n\n            case eCurveType.CUBIC:\n                return cubic(0, this.key.c1, this.key.c2, 1, t);\n\n            case eCurveType.QUARTIC:\n                return quartic(0, this.key.c1, this.key.c2, this.key.c3, 1, t);\n\n            case eCurveType.QUINTIC:\n                return quintic(0, this.key.c1, this.key.c2, this.key.c3, this.key.c4, 1, t);\n\n            case eCurveType.BEZIER:\n                return bezier(this.key.c1, this.key.c2, this.key.c3, this.key.c4, t);\n        }\n\n        return 0;\n    }\n}\n","import { LineStepper }                  from \"./LineStepper\";\nimport { Spriter }                      from \"./Spriter\";\nimport { SpriterBone }                  from \"./SpriterBone\";\nimport { SpriterObject }                from \"./SpriterObject\";\nimport { Animation, eAnimationLooping } from \"./Structure/Animation\";\nimport { eTimelineType }                from \"./Structure/Baseline\";\nimport { CharMapStack }                 from \"./Structure/CharMapStack\";\nimport { Entity }                       from \"./Structure/Entity\";\nimport { Key }                          from \"./Structure/Key\";\nimport { KeyMainline }                  from \"./Structure/KeyMainline\";\nimport { KeyTag }                       from \"./Structure/KeyTag\";\nimport { KeyVariable }                  from \"./Structure/KeyVariable\";\nimport { Ref }                          from \"./Structure/Ref\";\nimport { SpatialInfo }                  from \"./Structure/SpatialInfo\";\nimport { eObjectType }                  from \"./Structure/Types\";\nimport { Variable }                     from \"./Structure/Variable\";\nimport { Varline }                      from \"./Structure/Varline\";\n\nexport class SpriterGroup extends Phaser.Group {\n\n    // onLoop(SpriterGroup);\n    public onLoop: Phaser.Signal = new Phaser.Signal();\n    // onFinish(SpriterGroup);\n    public onFinish: Phaser.Signal = new Phaser.Signal();\n\n    // onSound(SpriterGroup, string); // string for line name which equals soud name without extension\n    public onSound: Phaser.Signal = new Phaser.Signal();\n    // onEvent(SpriterGroup, string); // string for line name which equals event name\n    public onEvent: Phaser.Signal = new Phaser.Signal();\n    // onTagChange(SpriterGroup, string, boolean); // string for tag name, boolean for change (true = set / false = unset)\n    public onTagChange: Phaser.Signal = new Phaser.Signal();\n    // onVariableSet(SpriterGroup, Variable); // Variable is Spriter variable def with access to value\n    public onVariableSet: Phaser.Signal = new Phaser.Signal();\n    // onBoxUpdated(SpriterGroup, SpriterObject);\n    public onBoxUpdated: Phaser.Signal = new Phaser.Signal();\n    // onPointUpdated(SpriterGroup, SpriterObject);\n    public onPointUpdated: Phaser.Signal = new Phaser.Signal();\n\n    private _spriter: Spriter;\n    private _textureKey: string;\n\n    private _entity: Entity;\n    private _entityName: string;\n    private _animation: Animation;\n    private _animationName: string;\n    private _animationSpeed: number;\n\n    private _mainlineStepper: LineStepper = new LineStepper();\n    private _lineSteppers: LineStepper[] = [];\n    private _lineSteppersCount: number = 0;\n\n    private _bones: SpriterBone[] = [];\n    private _objects: SpriterObject[] = [];\n    private _tags: number = 0;  // up to 32 tags - 1 per bit\n    private _vars: Variable[] = [];\n\n    private _charMapStack: CharMapStack;\n\n    private _time: number;\n\n    private _root: SpatialInfo;\n\n    private _paused: boolean = false;\n    private _finished: boolean;\n\n    // -------------------------------------------------------------------------\n    constructor(game: Phaser.Game, spriter: Spriter, texutreKey: string, entityName: string,\n        animation?: string | number, animationSpeedPercent?: number) {\n\n        super(game, null);\n\n        this._spriter = spriter;\n        this._entityName = entityName;\n        this._entity = spriter.getEntityByName(entityName);\n        this._textureKey = texutreKey;\n\n        this._root = new SpatialInfo();\n\n        // clone variables\n        for (var i = 0; i < this._entity.variablesLength; i++) {\n            this._vars[i] = this._entity.getVariableById(i).clone();\n        }\n\n        // create charmap stack\n        this._charMapStack = new CharMapStack(this._entity);\n\n        // set animation speed\n        if (animationSpeedPercent === undefined) {\n            animationSpeedPercent = 100;\n        }\n\n        this.setAnimationSpeedPercent(animationSpeedPercent);\n\n        // set animation\n        if (animation === undefined || animation === null) {\n            // set first animation\n            this.playAnimationById(0);\n        } else if (typeof animation === \"number\") {\n            this.playAnimationById(animation);\n        } else {\n            this.playAnimationByName(animation);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public get spriter(): Spriter {\n        return this._spriter;\n    }\n\n    // -------------------------------------------------------------------------\n    public get entity(): Entity {\n        return this._entity;\n    }\n\n    // -------------------------------------------------------------------------\n    public get charMapStack(): CharMapStack {\n        return this._charMapStack;\n    }\n\n    // -------------------------------------------------------------------------\n    public get paused(): boolean {\n        return this._paused;\n    }\n\n    // -------------------------------------------------------------------------\n    public set paused(paused: boolean) {\n        this._paused = paused;\n    }\n\n    // -------------------------------------------------------------------------\n    public get animationsCount(): number {\n        return this._entity.animationsLength;\n    }\n\n    // -------------------------------------------------------------------------\n    public get currentAnimationName(): string {\n        return this._animationName;\n    }\n\n    // -------------------------------------------------------------------------\n    public pushCharMap(charMapName: string): void {\n        this._charMapStack.push(charMapName);\n        this.resetSprites();\n    }\n\n    // -------------------------------------------------------------------------\n    public removeCharMap(charMapName: string): void {\n        this._charMapStack.remove(charMapName);\n        this.resetSprites();\n    }\n\n    // -------------------------------------------------------------------------\n    public clearCharMaps(): void {\n        this._charMapStack.reset();\n        this.resetSprites();\n    }\n\n    // -------------------------------------------------------------------------\n    private resetSprites(): void {\n        for (var i = 0; i < this._objects.length; i++) {\n            this._objects[i].resetFile();\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public isTagOn(tagName: string): boolean {\n        return this.isTagOnById(this._spriter.getTagByName(tagName).id);\n    }\n\n    // -------------------------------------------------------------------------\n    public isTagOnById(tagId: number): boolean {\n        return (this._tags & (1 << tagId)) > 0;\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariable(varName: string): Variable {\n        return this.getVariableById(this._entity.getVariableByName(varName).id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableById(varId: number): Variable {\n        return this._vars[varId];\n    }\n\n    // -------------------------------------------------------------------------\n    public getObject(objectName: string): SpriterObject {\n        for (var i = 0; i < this._objects.length; i++) {\n            var object = this._objects[i];\n\n            if (object.name === objectName) {\n                return object;\n            }\n        }\n\n        return null;\n    }\n\n    // -------------------------------------------------------------------------\n    public setAnimationSpeedPercent(animationSpeedPercent: number = 100): void {\n        this._animationSpeed = animationSpeedPercent / 100;\n    }\n\n    // -------------------------------------------------------------------------\n    public playAnimationById(animationId: number): void {\n        var animation = this._entity.getAnimationById(animationId);\n\n        if (animation === undefined || animation === null) {\n            console.warn(\"Animation \" + animationId + \" for entity \" + this._entityName + \" does not exist!\");\n            return;\n        }\n\n        this.playAnimation(animation);\n    }\n\n    // -------------------------------------------------------------------------\n    public playAnimationByName(animationName: string): void {\n        var animation = this._entity.getAnimationByName(animationName);\n\n        if (animation === undefined || animation === null) {\n            console.warn(\"Animation \" + animationName + \" for entity \" + this._entityName + \" does not exist!\");\n            return;\n        }\n\n        this.playAnimation(animation);\n    }\n\n    // -------------------------------------------------------------------------\n    private playAnimation(animation: Animation): void {\n        this._animationName = animation.name;\n        this._animation = animation\n\n        this._finished = false;\n\n        // reset time to beginning of animation and find first from and to keys\n        this._mainlineStepper.reset();\n        this._mainlineStepper.line = this._animation.mainline;\n        this._time = 0;\n\n        // reset all additional time lines (soundline, varline, tagline, eventline)\n        this.resetLines();\n\n        // reset tags\n        this._tags = 0;\n\n        // reset variables to defaults\n        for (var i = 0; i < this._vars.length; i++) {\n            this._vars[i].reset();\n        }\n\n        // create bones and sprites - based on data in mainLine key 0\n        this.loadKeys(<KeyMainline>this._animation.mainline.at(0), true);\n        // first update - to set correct positions\n        this.updateCharacter();\n    }\n\n    // -------------------------------------------------------------------------\n    private resetLines(): void {\n        // reset steppers\n        this._lineSteppersCount = 0;\n\n        // go through all lines (sounds, events, tags, vars)\n        for (var i = 0; i < this._animation.linesLength; i++) {\n            var line = this._animation.getLineById(i);\n\n            // if not enough line steppers in array, add new one\n            if (this._lineSteppersCount >= this._lineSteppers.length) {\n                this._lineSteppers[this._lineSteppersCount] = new LineStepper();\n            }\n\n            // get free stepper\n            var stepper = this._lineSteppers[this._lineSteppersCount++];\n            stepper.reset();\n            stepper.line = line;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private setBones(bones: Ref[], force: boolean = false): void {\n        // switch off all existing bones\n        for (var i = 0; i < this._bones.length; i++) {\n            if (this._bones[i] !== undefined) {\n                this._bones[i].setOn(false);\n            }\n        }\n\n        // go through all bones and add new ones if necessary and activate used ones\n        for (var i = 0; i < bones.length; i++) {\n            var ref = bones[i];\n\n            // if bone does not exist add it and make active, else make it active only\n            if (this._bones[ref.id] === undefined) {\n                var newBone = new SpriterBone();\n                newBone.type = eObjectType.BONE;\n                this._bones[ref.id] = newBone;\n            }\n\n            var bone = this._bones[ref.id];\n\n            bone.setOn(true);\n            bone.parent = ref.parent;\n\n            if (bone.timelineKey !== ref.key || bone.timeline !== ref.timeline || force) {\n                bone.setKey(this._entity, this._animation, ref.timeline, ref.key);\n            }\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private setObjects(objects: Ref[], force: boolean = false): void {\n        // switch off (kill) all existing sprites\n        for (var i = 0; i < this._objects.length; i++) {\n            if (this._objects[i] !== undefined) {\n                this._objects[i].setOn(false);\n            }\n        }\n\n        // go through all objects/sprites and add new ones if necessary and activate used ones\n        var zChange = false;\n        for (var i = 0; i < objects.length; i++) {\n            var ref = objects[i];\n\n            var object: SpriterObject = null;\n            var sprite: Phaser.Sprite = null;\n\n            // if sprite does not exist add it and make active, else make it active only\n            if (this._objects[ref.id] === undefined) {\n                sprite = new Phaser.Sprite(this.game, 0, 0, this._textureKey);\n                object = new SpriterObject(this, sprite);\n                this._objects[ref.id] = object;\n                this.add(sprite);\n            } else {\n                object = this._objects[ref.id];\n                sprite = object.sprite;\n            }\n\n            object.parent = ref.parent;\n            object.type = this._animation.getTimelineById(ref.timeline).objectType;\n\n            // is it sprite or any other type of object? (box / point)\n            if (object.type === eObjectType.SPRITE) {\n                object.setOn(true);\n\n                if (object.sprite.z !== ref.z) {\n                    object.sprite.z = ref.z;\n                    zChange = true;\n                }\n            } else {\n                object.setOn(true, true);\n\n                // TODO remove - debug\n                //if (object.type === eObjectType.POINT) {\n                //    object.setOn(true);\n                //    object.sprite.frameName = \"DebugPoint\";\n                //    object.sprite.anchor.set(0.5, 0.5);\n                //} else if (object.type === eObjectType.BOX) {\n                //    object.setOn(true);\n                //    object.sprite.frameName = \"DebugBox\";\n                //}\n            }\n\n\n            if (object.timelineKey !== ref.key || object.timeline !== ref.timeline || force) {\n                object.setKey(this._entity, this._animation, ref.timeline, ref.key);\n            }\n        }\n\n        // need to sort sprites?\n        if (zChange) {\n            this.sort();\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private loadKeys(keyMainline: KeyMainline, force: boolean = false): void {\n        this.setBones(keyMainline.boneRefs, force);\n        this.setObjects(keyMainline.objectRefs, force);\n    }\n\n    // -------------------------------------------------------------------------\n    public updateAnimation(): void {\n        if (this._paused || this._finished) {\n            return;\n        }\n\n        var mainlineStepper = this._mainlineStepper;\n\n        // check if in the end of animation and whether to loop or not\n        if (this._time > this._animation.length) {\n            if (this._animation.loopType === eAnimationLooping.NO_LOOPING) {\n                this._time = this._animation.length;\n                this._finished = true;\n            } else {\n                this._time -= this._animation.length;\n                this.onLoop.dispatch(this);\n            }\n        }\n\n\n        // consume all new keys\n        var key: KeyMainline;\n        while ((key = <KeyMainline>mainlineStepper.step(this._time)) !== null) {\n            //console.log(\"got key at: \" + key.time + \" time: \" + this._time);\n            this.loadKeys(key);\n            mainlineStepper.lastTime = key.time;\n        }\n\n\n        this.updateCharacter();\n        this.updateLines();\n\n        if (this._finished) {\n            this.onFinish.dispatch(this);\n        }\n\n        this._time += (this.game.time.delta /* this.game.time.physicsElapsedMS */ * this._animationSpeed);\n    }\n\n    // -------------------------------------------------------------------------\n    private updateCharacter(): void {\n        for (var i = 0; i < this._bones.length; i++) {\n            var bone = this._bones[i];\n            if (bone.on) {\n                var parentSpatial = (bone.parent === -1) ? this._root : this._bones[bone.parent].transformed;\n                bone.tween(this._time);\n                bone.update(parentSpatial);\n            }\n        }\n\n        for (var i = 0; i < this._objects.length; i++) {\n            var object = this._objects[i];\n            if (object.on) {\n                var parentSpatial = (object.parent === -1) ? this._root : this._bones[object.parent].transformed;\n                object.tween(this._time);\n                object.update(parentSpatial);\n\n                if (object.type === eObjectType.SPRITE) {\n                    object.updateSprite();\n                } else if (object.type === eObjectType.BOX) {\n                    this.onBoxUpdated.dispatch(this, object);\n                } else if (object.type === eObjectType.POINT) {\n                    this.onPointUpdated.dispatch(this, object);\n                }\n\n                //// TODO remove - debug\n                //if (object.type === eObjectType.BOX) {\n                //    var frame = this.game.cache.getFrameByName(this._textureKey, \"DebugBox\");\n                //    var timeline = this._animation.getTimelineById(object.timeline);\n                //    var objDef = this._spriter.getEntityByName(this._entityName).getObjectInfoById(timeline.objectRef);\n                //    var transformed = object.transformed;\n                //    var objWidth = objDef.width * transformed.scaleX;\n                //    var objHeight = objDef.height * transformed.scaleY;\n                //    object.sprite.scale.set(objWidth / frame.width, objHeight / frame.height);\n                //}\n            }\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private updateLines(): void {\n        for (var i = this._lineSteppersCount - 1; i >= 0; i--) {\n            var lineStepper = this._lineSteppers[i];\n            var line = lineStepper.line;\n            var key: Key;\n\n            while ((key = lineStepper.step(this._time)) !== null) {\n                switch (line.type) {\n                    case eTimelineType.SOUND_LINE:\n                        //console.log(\"sound: \" + line.name + \" - key: \" + key.id + \", time: \" + key.time);\n                        this.onSound.dispatch(this, line.name);\n                        break;\n\n                    case eTimelineType.EVENT_LINE:\n                        //console.log(\"event: \" + line.name + \" - key: \" + key.id + \", time: \" + key.time);\n                        this.onEvent.dispatch(this, line.name);\n                        break;\n\n                    case eTimelineType.TAG_LINE:\n                        var tagsOn = (<KeyTag>key).tagsOn;\n                        var tagChanges = this._tags ^ tagsOn;\n                        this._tags = tagsOn;\n                        // go through all changes\n                        for (var j = 0; j < this._spriter.tagsLength; j++) {\n                            var mask = 1 << j;\n                            if (tagChanges & mask) {\n                                //console.log(\"tag change: \" + this._spriter.getTagById(j).name + \" value: \" + ((tagsOn & mask) > 0) + \" - key: \" + key.id + \", time: \" + key.time);\n                                this.onTagChange.dispatch(this, this._spriter.getTagById(j).name, (tagsOn & mask) > 0);\n                            }\n                        }\n                        break;\n\n                    case eTimelineType.VAR_LINE:\n                        var newVal = (<KeyVariable>key).value;\n                        var variable = this._vars[(<Varline>line).varDefId];\n                        variable.value = newVal;\n                        //console.log(\"var set: \" + variable.name + \" value: \" + variable.value + \" - key: \" + key.id + \", time: \" + key.time);\n                        this.onVariableSet.dispatch(this, variable);\n                        break;\n                }\n\n                lineStepper.lastTime = key.time;\n            }\n        }\n    }\n}\n","import { Spriter }      from \"./Spriter\";\nimport { SpriterBone }  from \"./SpriterBone\";\nimport { SpriterGroup } from \"./SpriterGroup\";\nimport { Animation }    from \"./Structure/Animation\";\nimport { CharMapStack } from \"./Structure/CharMapStack\";\nimport { Entity }       from \"./Structure/Entity\";\nimport { File }         from \"./Structure/File\";\nimport { KeyObject }    from \"./Structure/KeyObject\";\nimport { eObjectType }  from \"./Structure/Types\";\n\nexport class SpriterObject extends SpriterBone {\n\n    private _spriter: Spriter;\n    private _charMapStack: CharMapStack;\n    private _sprite: Phaser.Sprite;\n\n    private _file: File;\n    private _hide; boolean;\n\n    // -------------------------------------------------------------------------\n    constructor(parent: SpriterGroup, sprite: Phaser.Sprite) {\n        super();\n\n        this._spriter = parent.spriter;\n        this._charMapStack = parent.charMapStack;\n        this._sprite = sprite;\n    }\n\n    // -------------------------------------------------------------------------\n    public get sprite(): Phaser.Sprite {\n        return this._sprite;\n    }\n\n    // -------------------------------------------------------------------------\n    public setOn(on: boolean, hideSprite: boolean = false): void {\n        super.setOn(on);\n\n        // hide sprite for non-sprite objects\n        this._sprite.exists = on && !hideSprite;\n        this._sprite.visible = (on && !this._hide && !hideSprite);\n    }\n\n    // -------------------------------------------------------------------------\n    public setKey(entity: Entity, animation: Animation, timelineId: number, keyId: number): void {\n        super.setKey(entity, animation, timelineId, keyId);\n\n        // set sprite - skip invisible objects - boxes, points\n        if (this.type === eObjectType.SPRITE) {\n            var spriteKey = (<KeyObject>this.key);\n            var file = this._spriter.getFolderById(spriteKey.folder).getFileById(spriteKey.file);\n            this._file = file;\n            this.setFile(file);\n        } else {\n            this._file = null;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public resetFile(): void {\n        if (this.type === eObjectType.SPRITE) {\n            this.setFile(this._file);\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    private setFile(file: File): void {\n        file = this._charMapStack.getFile(file);\n\n        if (file !== null) {\n            this._hide = false;\n            this._sprite.frameName = file.name;\n        } else {\n            this._hide = true;\n            this._sprite.visible = false;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public updateSprite(): void {\n        var t = this.transformed;\n        var s = this.sprite;\n\n        s.position.set(t.x, t.y);\n        s.scale.set(t.scaleX, t.scaleY);\n        s.anchor.set(t.pivotX, t.pivotY);\n\n        s.alpha = t.alpha;\n        s.angle = t.angle;\n    }\n}\n","import { Item }      from \"./Item\";\nimport { Baseline }  from \"./Baseline\";\nimport { Timeline }  from \"./Timeline\";\nimport { IdNameMap } from \"../IdNameMap\";\n\nexport enum eAnimationLooping { NO_LOOPING, LOOPING };\n\nexport class Animation extends Item {\n\n    private _length: number;\n    private _loopType: eAnimationLooping;\n\n    private _mainline: Baseline;\n    private _timelines: IdNameMap<Timeline>;\n    // other timelines for sound, events, tags, variables\n    private _lines: IdNameMap<Baseline>;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string, length: number, loopType: eAnimationLooping) {\n        super(id, name);\n\n        this._length = length;\n        this._loopType = loopType;\n\n        this._timelines = new IdNameMap<Timeline>();\n        this._lines = new IdNameMap<Baseline>();\n    }\n\n    // -------------------------------------------------------------------------\n    public get mainline(): Baseline {\n        return this._mainline;\n    }\n\n    // -------------------------------------------------------------------------\n    public set mainline(mainline: Baseline) {\n        this._mainline = mainline;\n    }\n\n    // -------------------------------------------------------------------------\n    public addTimeline(timeline: Timeline): void {\n        this._timelines.add(timeline, timeline.id, timeline.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineById(id: number): Timeline {\n        return this._timelines.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getTimelineByName(name: string): Timeline {\n        return this._timelines.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public addLine(line: Baseline): void {\n        this._lines.add(line, this._lines.length, line.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getLineById(id: number): Baseline {\n        return this._lines.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getLineByName(name: string): Baseline {\n        return this._lines.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public get linesLength(): number {\n        return this._lines.length;\n    }\n\n    // -------------------------------------------------------------------------\n    public get length(): number {\n        return this._length;\n    }\n\n    // -------------------------------------------------------------------------\n    public get loopType(): eAnimationLooping {\n        return this._loopType;\n    }\n}\n","import { Item } from \"./Item\";\nimport { Key }  from \"./Key\";\n\nexport enum eTimelineType {\n    UNKNOWN, MAIN_LINE, TIME_LINE, SOUND_LINE, EVENT_LINE, TAG_LINE, VAR_LINE\n}\n\nexport class Baseline extends Item {\n\n    private _type: eTimelineType;\n\n    private _keys: Key[];\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, name: string = null) {\n        super(id, name);\n\n        this._type = eTimelineType.UNKNOWN;\n    }\n\n    // -------------------------------------------------------------------------\n    public get type(): eTimelineType {\n        return this._type;\n    }\n\n    // -------------------------------------------------------------------------\n    public set type(type: eTimelineType) {\n        this._type = type;\n    }\n\n    // -------------------------------------------------------------------------\n    public get keys(): Key[] {\n        return this._keys;\n    }\n\n    // -------------------------------------------------------------------------\n    public add(key: Key): void {\n        if (this._keys === null || this._keys === undefined) {\n            this._keys = [];\n        }\n\n        this._keys.push(key);\n    }\n\n    // -------------------------------------------------------------------------\n    public at(index: number, loop: boolean = true): Key {\n        if (index < 0) {\n            return null;\n        }\n\n        var length = this._keys.length;\n\n        if (index >= length) {\n            if (loop) {\n                index = index % length;\n            } else {\n                index = length - 1;\n            }\n        }\n\n        return this._keys[index];\n    }\n}\n","import { File } from \"./File\";\nimport { Item } from \"./Item\";\n\nexport class CharMap extends Item {\n\n    private _map: any;\n\n    // -------------------------------------------------------------------------\n    public put(key: string, value: File): void {\n        if (this._map === undefined) {\n            this._map = {}\n        }\n\n        if (this._map[key] !== undefined) {\n            console.error(\"Key with name \" + key + \" already exists\");\n        }\n\n        this._map[key] = value;\n    }\n\n    // -------------------------------------------------------------------------\n    public value(key: string): File {\n        return this._map[key];\n    }\n}\n","import { CharMap } from \"./CharMap\";\nimport { Entity }  from \"./Entity\";\nimport { File }    from \"./File\";\n\nexport class CharMapStack {\n\n    private _entity: Entity;\n\n    private _stack: CharMap[] = [];\n    private _length: number = 0;\n\n    // -------------------------------------------------------------------------\n    public constructor(entity: Entity) {\n        this._entity = entity;\n    }\n\n    // -------------------------------------------------------------------------\n    public reset(): void {\n        this._length = 0;\n    }\n\n    // -------------------------------------------------------------------------\n    public push(charMapName: string): void {\n        var charMap = this.getCharMap(charMapName);\n\n        this._stack[this._length++] = charMap;\n    }\n\n    // -------------------------------------------------------------------------\n    public remove(charMapName: string): void {\n        var charMap = this.getCharMap(charMapName);\n        var index = this.findCharMap(charMap);\n\n        // shift all items down\n        if (index !== -1) {\n            for (var i = index; i < this._length - 2; i++) {\n                this._stack[i] = this._stack[i + 1];\n            }\n\n            this._stack[--this._length] = null;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public getFile(file: File): File {\n        for (var i = this._length - 1; i >= 0; i--) {\n            var value = this._stack[i].value(file.name);\n            if (value !== undefined) {\n                return value;\n            }\n        }\n\n        return file;\n    }\n\n    // -------------------------------------------------------------------------\n    private getCharMap(charMapName): CharMap {\n        var charMap = this._entity.getCharMapByName(charMapName);\n\n        if (charMapName === null) {\n            console.error(\"charmap with name \" + charMapName + \" does not exist\");\n        }\n\n        return charMap;\n    }\n\n    // -------------------------------------------------------------------------\n    private findCharMap(charMap: CharMap): number {\n        for (var i = 0; i < this._length; i++) {\n            if (this._stack[i] === charMap) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n}\n","import { IdNameMap }  from \"../IdNameMap\";\nimport { Animation }  from \"./Animation\";\nimport { CharMap }    from \"./CharMap\";\nimport { Item }       from \"./Item\";\nimport { ObjectInfo } from \"./ObjectInfo\";\nimport { Variable }   from \"./Variable\";\n\nexport class Entity extends Item {\n\n    private _objectInfos: IdNameMap<ObjectInfo>;\n    private _charMaps:    IdNameMap<CharMap>\n    private _variables:   IdNameMap<Variable>;\n    private _animations:  IdNameMap<Animation>;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string) {\n        super(id, name);\n\n        this._objectInfos = new IdNameMap<ObjectInfo>();\n        this._charMaps    = new IdNameMap<CharMap>();\n        this._variables   = new IdNameMap<Variable>();\n        this._animations  = new IdNameMap<Animation>();\n    }\n\n    // -------------------------------------------------------------------------\n    public addObjectInfo(objectInfo: ObjectInfo): void {\n        this._objectInfos.add(objectInfo, objectInfo.id, objectInfo.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfoById(id: number): ObjectInfo {\n        return this._objectInfos.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getObjectInfoByName(name: string): ObjectInfo {\n        return this._objectInfos.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public addCharMap(charMap: CharMap): void {\n        this._charMaps.add(charMap, charMap.id, charMap.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapById(id: number): CharMap {\n        return this._charMaps.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getCharMapByName(name: string): CharMap {\n        return this._charMaps.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public get charMapsLength(): number {\n        return this._charMaps.length;\n    }\n\n    // -------------------------------------------------------------------------\n    public addVariable(variable: Variable): void {\n        this._variables.add(variable, variable.id, variable.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableById(id: number): Variable {\n        return this._variables.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getVariableByName(name: string): Variable {\n        return this._variables.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public get variablesLength(): number {\n        return this._variables.length;\n    }\n\n    // -------------------------------------------------------------------------\n    public addAnimation(animation: Animation): void {\n        this._animations.add(animation, animation.id, animation.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimationById(id: number): Animation {\n        return this._animations.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getAnimationByName(name: string): Animation {\n        return this._animations.getByName(name);\n    }\n\n    // -------------------------------------------------------------------------\n    public get animationsLength(): number {\n        return this._animations.length;\n    }\n}\n","import { Item } from \"./Item\";\n\nexport class File extends Item {\n\n    private _pivotX: number;\n    private _pivotY: number;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string, pivotX: number, pivotY: number) {\n        super(id, name);\n\n        this._pivotX = pivotX;\n        this._pivotY = pivotY;\n    }\n\n    // -------------------------------------------------------------------------\n    public get pivotX(): number {\n        return this._pivotX;\n    }\n\n    // -------------------------------------------------------------------------\n    public get pivotY(): number {\n        return this._pivotY;\n    }\n}\n","import { Item }      from \"./Item\";\nimport { File }      from \"./File\";\nimport { IdNameMap } from \"../IdNameMap\";\n\nexport class Folder extends Item {\n\n    private _files: IdNameMap<File>;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string) {\n        super(id, name);\n\n        this._files = new IdNameMap<File>();\n    }\n\n    // -------------------------------------------------------------------------\n    public addFile(file: File): void {\n        this._files.add(file, file.id, file.name);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFileById(id: number): File {\n        return this._files.getById(id);\n    }\n\n    // -------------------------------------------------------------------------\n    public getFileByName(name: string) {\n        return this._files.getByName(name);\n    }\n}\n","export class Item {\n\n    protected _id: number;\n    protected _name: string;\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, name: string) {\n        this._id = id;\n        this._name = name;\n    }\n\n    // -------------------------------------------------------------------------\n    public get id(): number {\n        return this._id;\n    }\n\n    // -------------------------------------------------------------------------\n    public get name(): string {\n        return this._name;\n    }\n}\n","export class Key {\n\n    private _id: number;\n    private _time: number;\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, time: number) {\n        this._id = id;\n        this._time = time;\n    }\n\n    // -------------------------------------------------------------------------\n    public get id(): number {\n        return this._id;\n    }\n\n    // -------------------------------------------------------------------------\n    public get time(): number {\n        return this._time;\n    }\n}\n","import { KeyTimeline } from \"./KeyTimeline\";\n\nexport class KeyBone extends KeyTimeline {\n\n}\n","import { Key } from \"./Key\";\nimport { Ref } from \"./Ref\";\n\nexport class KeyMainline extends Key {\n\n    private _boneRefs: Ref[] = [];\n    private _objectRefs: Ref[] = [];\n\n    // -------------------------------------------------------------------------\n    public get boneRefs(): Ref[] {\n        return this._boneRefs;\n    }\n\n    // -------------------------------------------------------------------------\n    public addBoneRef(boneRef: Ref): void {\n        this._boneRefs.push(boneRef);\n    }\n\n    // -------------------------------------------------------------------------\n    public get objectRefs(): Ref[] {\n        return this._objectRefs;\n    }\n\n    // -------------------------------------------------------------------------\n    public addObjectRef(objectRef: Ref): void {\n        this._objectRefs.push(objectRef);\n    }\n}\n","import { KeyTimeline } from \"./KeyTimeline\";\n\nexport class KeyObject extends KeyTimeline {\n\n    private _folder: number;\n    private _file: number;\n\n    // -------------------------------------------------------------------------\n    public setFolderAndFile(folder: number, file: number): void {\n        this._folder = folder;\n        this._file = file;\n    }\n\n    // -------------------------------------------------------------------------\n    public get folder(): number {\n        return this._folder;\n    }\n\n    // -------------------------------------------------------------------------\n    public get file(): number {\n        return this._file;\n    }\n}\n","import { Key } from \"./Key\";\n\nexport class KeyTag extends Key {\n\n    // bit arary with tag indices\n    private _tagsOn: number;\n\n    // -------------------------------------------------------------------------\n    public get tagsOn(): number {\n        return this._tagsOn;\n    }\n\n    // -------------------------------------------------------------------------\n    public set tagsOn(tagsOn: number) {\n        this._tagsOn = tagsOn;\n    }\n}\n","import { Key }         from \"./Key\";\nimport { SpatialInfo } from \"./SpatialInfo\";\nimport { eCurveType }  from \"./Types\";\n\nexport class KeyTimeline extends Key {\n\n    protected _spin: number;\n\n    protected _curveType: eCurveType;\n    protected _c1: number;\n    protected _c2: number;\n    protected _c3: number;\n    protected _c4: number;\n\n    protected _info: SpatialInfo = new SpatialInfo();\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, time: number, spin: number) {\n        super(id, time);\n\n        this._spin = spin;\n\n        this.setCurve(eCurveType.LINEAR);\n    }\n\n    // -------------------------------------------------------------------------\n    public setCurve(curveType: eCurveType, c1: number = 0, c2: number = 0, c3: number = 0, c4: number = 0): void {\n        this._curveType = curveType;\n        this._c1 = c1;\n        this._c2 = c2;\n        this._c3 = c3;\n        this._c4 = c4;\n    }\n\n    // -------------------------------------------------------------------------\n    public get spin(): number {\n        return this._spin;\n    }\n\n    // -------------------------------------------------------------------------\n    public get curveType(): eCurveType {\n        return this._curveType;\n    }\n\n    // -------------------------------------------------------------------------\n    public get c1(): number {\n        return this._c1;\n    }\n\n    // -------------------------------------------------------------------------\n    public get c2(): number {\n        return this._c2;\n    }\n\n    // -------------------------------------------------------------------------\n    public get c3(): number {\n        return this._c3;\n    }\n\n    // -------------------------------------------------------------------------\n    public get c4(): number {\n        return this._c4;\n    }\n\n    // -------------------------------------------------------------------------\n    public get info(): SpatialInfo {\n        return this._info;\n    }\n}\n","import { Key } from \"./Key\";\n\nexport class KeyVariable extends Key {\n\n    private _value: number | string;\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, time: number, value: number | string) {\n        super(id, time);\n\n        this._value = value;\n    }\n\n    // -------------------------------------------------------------------------\n    public get value(): string | number {\n        return this._value;\n    }\n}\n","import { Item }        from \"./Item\";\nimport { eObjectType } from \"./Types\";\n\nexport class ObjectInfo extends Item {\n\n    private _type: eObjectType;\n    private _width: number;\n    private _height: number;\n    private _pivotX: number;\n    private _pivotY: number;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string, type: eObjectType, width: number, height: number, pivotX: number, pivotY: number) {\n        super(id, name);\n\n        this._type = type;\n        this._width = width;\n        this._height = height;\n        this._pivotX = pivotX;\n        this._pivotY = pivotY;\n    }\n\n    // -------------------------------------------------------------------------\n    public get type(): eObjectType {\n        return this._type;\n    }\n\n    // -------------------------------------------------------------------------\n    public get width(): number {\n        return this._width;\n    }\n\n    // -------------------------------------------------------------------------\n    public get height(): number {\n        return this._height;\n    }\n\n    // -------------------------------------------------------------------------\n    public get pivotX(): number {\n        return this._pivotX;\n    }\n\n    // -------------------------------------------------------------------------\n    public get pivotY(): number {\n        return this._pivotY;\n    }\n}\n","export class Ref {\n\n    public id: number;\n    public parent: number;\n    public timeline: number;\n    public key: number;\n    public z: number;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, parent: number, timeline: number, key: number, z: number = 0) {\n        this.id = id;\n        this.parent = parent;\n        this.timeline = timeline;\n        this.key = key;\n        this.z = z;\n    }\n}\n","export class SpatialInfo {\n\n    public x: number = 0;\n    public y: number = 0;\n\n    public scaleX: number = 1;\n    public scaleY: number = 1;\n\n    public pivotX: number = 0;\n    public pivotY: number = 0;\n\n    public alpha: number = 1;\n\n    public angle: number = 0;\n}\n","import { Baseline, eTimelineType } from \"./Baseline\";\nimport { eObjectType } from \"./Types\";\n\nexport class Timeline extends Baseline {\n\n    private _objectType: eObjectType;\n    private _objectRef: number;\n\n    // -------------------------------------------------------------------------\n    constructor(id: number, name: string, type: eObjectType = eObjectType.SPRITE, objectRef: number = -1) {\n        super(id, name);\n\n        this.type = eTimelineType.TIME_LINE;\n\n        this._objectType = type;\n        this._objectRef = objectRef;\n    }\n\n    // -------------------------------------------------------------------------\n    public get objectType(): eObjectType {\n        return this._objectType;\n    }\n\n    // -------------------------------------------------------------------------\n    public get objectRef(): number {\n        return this._objectRef;\n    }\n}\n","export const enum eObjectType {\n    SPRITE, BONE, BOX, POINT, SOUND\n}\n\nexport const enum eCurveType {\n    LINEAR, INSTANT, QUADRATIC, CUBIC, QUARTIC, QUINTIC, BEZIER\n}\n\nexport const enum eVariableType {\n    INT, FLOAT, STRING\n}\n\nexport class Types {\n\n    private static nameToObjectType = {\n        \"sprite\": eObjectType.SPRITE,\n        \"bone\": eObjectType.BONE,\n        \"box\": eObjectType.BOX,\n        \"point\": eObjectType.POINT,\n        \"sound\": eObjectType.SOUND\n    }\n\n    private static nameToCurveType = {\n        \"instant\": eCurveType.INSTANT,\n        \"linear\": eCurveType.LINEAR,\n        \"quadratic\": eCurveType.QUADRATIC,\n        \"cubic\": eCurveType.CUBIC,\n        \"quartic\": eCurveType.QUARTIC,\n        \"quintic\": eCurveType.QUINTIC,\n        \"bezier\": eCurveType.BEZIER\n    }\n\n    private static nameToVariableType = {\n        \"int\": eVariableType.INT,\n        \"float\": eVariableType.FLOAT,\n        \"string\": eVariableType.STRING\n    }\n\n    // -------------------------------------------------------------------------\n    public static getObjectTypeForName(typeName: string): eObjectType {\n\n        var type: eObjectType = Types.nameToObjectType[typeName];\n\n        if (type === undefined) {\n            console.error(\"Unknown type of object: \" + typeName);\n        }\n\n        return type;\n    }\n\n    // -------------------------------------------------------------------------\n    public static getCurveTypeForName(typeName: string): eCurveType {\n\n        var type: eCurveType = Types.nameToCurveType[typeName];\n\n        if (type === undefined) {\n            console.error(\"Unknown type of curve: \" + typeName);\n        }\n\n        return type;\n    }\n\n    // -------------------------------------------------------------------------\n    public static getVariableTypeForName(typeName: string): eVariableType {\n\n        var type: eVariableType = Types.nameToVariableType[typeName];\n\n        if (type === undefined) {\n            console.error(\"Unknown type of variable: \" + typeName);\n        }\n\n        return type;\n    }\n}\n","import { Item }          from \"./Item\";\nimport { eVariableType } from \"./Types\";\n\nexport class Variable extends Item {\n\n    private _type: eVariableType;\n    private _default: string | number;\n    private _value: string | number;\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, name: string, type: eVariableType, defaultValue: string | number) {\n        super(id, name);\n\n        this._type = type;\n        this._default = defaultValue;\n\n        this.reset();\n    }\n\n    // -------------------------------------------------------------------------\n    public clone(): Variable {\n        return new Variable(this.id, this.name, this.type, this._default);\n    }\n\n    // -------------------------------------------------------------------------\n    public reset(): void {\n        this.value = this._default;\n    }\n\n    // -------------------------------------------------------------------------\n    public get type(): eVariableType {\n        return this._type;\n    }\n\n    // -------------------------------------------------------------------------\n    public get value(): string | number {\n        return this._value;\n    }\n\n    // -------------------------------------------------------------------------\n    public set value(value: string | number) {\n        if (this._type === eVariableType.INT) {\n            this._value = Math.floor(<number>value);\n        } else {\n            this._value = value;\n        }\n    }\n\n    // -------------------------------------------------------------------------\n    public get int(): number {\n        return <number>this._value;\n    }\n\n    // -------------------------------------------------------------------------\n    public get float(): number {\n        return <number>this._value;\n    }\n\n    // -------------------------------------------------------------------------\n    public get string(): string {\n        return <string>this._value;\n    }\n}\n","import { Baseline, eTimelineType } from \"./Baseline\";\n\nexport class Varline extends Baseline {\n\n    private _varDefId: number;\n\n    // -------------------------------------------------------------------------\n    public constructor(id: number, varDefId: number) {\n        super(id, null);\n\n        this._varDefId = varDefId;\n        this.type = eTimelineType.VAR_LINE;\n    }\n\n    // -------------------------------------------------------------------------\n    public get varDefId(): number {\n        return this._varDefId;\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from \"./Spriter\";\nexport * from \"./SpriterGroup\";\n\nexport * from \"./Loader/Loader\";\nexport * from \"./Loader/SpriterFile\";\nexport * from \"./Loader/SpriterJSON\";\nexport * from \"./Loader/SpriterXml\";\n//export * from \"./Loader/SpriterBin\";\n"],"names":[],"sourceRoot":""}